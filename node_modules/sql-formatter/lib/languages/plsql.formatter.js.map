{"version":3,"sources":["../../src/languages/plsql.formatter.ts"],"names":["reservedFunctions","numeric","character","datetime","comparison","conversion","largeObject","collection","hierarchical","dataMining","xml","encoding","nullRelated","env","aggregate","window","objectReference","model","reservedKeywords","reservedCommands","reservedBinaryCommands","reservedDependentClauses","PlSqlFormatter","Tokenizer","reservedLogicalOperators","Object","values","flat","stringTypes","quote","prefixes","identTypes","identChars","rest","variableTypes","regex","numberedParamTypes","namedParamTypes","paramChars","operators","preprocess","Formatter","tokens","previousReservedToken","EOF_TOKEN","map","token","isToken","SET","BY","type","TokenType","RESERVED_KEYWORD"],"mappings":"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","sourcesContent":["import Formatter from 'src/core/Formatter';\nimport Tokenizer from 'src/core/Tokenizer';\nimport { EOF_TOKEN, isReserved, isToken, type Token, TokenType } from 'src/core/token';\nimport { dedupe } from 'src/utils';\n\n// https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions001.htm\nconst reservedFunctions = {\n  numeric: [\n    'ABS',\n    'ACOS',\n    'ASIN',\n    'ATAN',\n    'ATAN2',\n    'BITAND',\n    'CEIL',\n    'COS',\n    'COSH',\n    'EXP',\n    'FLOOR',\n    'LN',\n    'LOG',\n    'MOD',\n    'NANVL',\n    'POWER',\n    'REMAINDER',\n    'ROUND',\n    'SIGN',\n    'SIN',\n    'SINH',\n    'SQRT',\n    'TAN',\n    'TANH',\n    'TRUNC',\n    'WIDTH_BUCKET',\n  ],\n  character: [\n    'CHR',\n    'CONCAT',\n    'INITCAP',\n    'LOWER',\n    'LPAD',\n    'LTRIM',\n    'NLS_INITCAP',\n    'NLS_LOWER',\n    'NLSSORT',\n    'NLS_UPPER',\n    'REGEXP_REPLACE',\n    'REGEXP_SUBSTR',\n    'REPLACE',\n    'RPAD',\n    'RTRIM',\n    'SOUNDEX',\n    'SUBSTR',\n    'TRANSLATE',\n    'TREAT',\n    'TRIM',\n    'UPPER',\n\n    'NLS_CHARSET_DECL_LEN',\n    'NLS_CHARSET_ID',\n    'NLS_CHARSET_NAME',\n\n    'ASCII',\n    'INSTR',\n    'LENGTH',\n    'REGEXP_INSTR',\n  ],\n  datetime: [\n    'ADD_MONTHS',\n    'CURRENT_DATE',\n    'CURRENT_TIMESTAMP',\n    'DBTIMEZONE',\n    'EXTRACT',\n    'FROM_TZ',\n    'LAST_DAY',\n    'LOCALTIMESTAMP',\n    'MONTHS_BETWEEN',\n    'NEW_TIME',\n    'NEXT_DAY',\n    'NUMTODSINTERVAL',\n    'NUMTOYMINTERVAL',\n    'ROUND',\n    'SESSIONTIMEZONE',\n    'SYS_EXTRACT_UTC',\n    'SYSDATE',\n    'SYSTIMESTAMP',\n    'TO_CHAR',\n    'TO_TIMESTAMP',\n    'TO_TIMESTAMP_TZ',\n    'TO_DSINTERVAL',\n    'TO_YMINTERVAL',\n    'TRUNC',\n    'TZ_OFFSET',\n  ],\n  comparison: ['GREATEST', 'LEAST'],\n  conversion: [\n    'ASCIISTR',\n    'BIN_TO_NUM',\n    'CAST',\n    'CHARTOROWID',\n    'COMPOSE',\n    'CONVERT',\n    'DECOMPOSE',\n    'HEXTORAW',\n    'NUMTODSINTERVAL',\n    'NUMTOYMINTERVAL',\n    'RAWTOHEX',\n    'RAWTONHEX',\n    'ROWIDTOCHAR',\n    'ROWIDTONCHAR',\n    'SCN_TO_TIMESTAMP',\n    'TIMESTAMP_TO_SCN',\n    'TO_BINARY_DOUBLE',\n    'TO_BINARY_FLOAT',\n    'TO_CHAR',\n    'TO_CLOB',\n    'TO_DATE',\n    'TO_DSINTERVAL',\n    'TO_LOB',\n    'TO_MULTI_BYTE',\n    'TO_NCHAR',\n    'TO_NCLOB',\n    'TO_NUMBER',\n    'TO_DSINTERVAL',\n    'TO_SINGLE_BYTE',\n    'TO_TIMESTAMP',\n    'TO_TIMESTAMP_TZ',\n    'TO_YMINTERVAL',\n    'TO_YMINTERVAL',\n    'TRANSLATE',\n    'UNISTR',\n  ],\n  largeObject: ['BFILENAME', 'EMPTY_BLOB,', 'EMPTY_CLOB'],\n  collection: ['CARDINALITY', 'COLLECT', 'POWERMULTISET', 'POWERMULTISET_BY_CARDINALITY', 'SET'],\n  hierarchical: ['SYS_CONNECT_BY_PATH'],\n  dataMining: [\n    'CLUSTER_ID',\n    'CLUSTER_PROBABILITY',\n    'CLUSTER_SET',\n    'FEATURE_ID',\n    'FEATURE_SET',\n    'FEATURE_VALUE',\n    'PREDICTION',\n    'PREDICTION_COST',\n    'PREDICTION_DETAILS',\n    'PREDICTION_PROBABILITY',\n    'PREDICTION_SET',\n  ],\n  xml: [\n    'APPENDCHILDXML',\n    'DELETEXML',\n    'DEPTH',\n    'EXTRACT',\n    'EXISTSNODE',\n    'EXTRACTVALUE',\n    'INSERTCHILDXML',\n    'INSERTXMLBEFORE',\n    'PATH',\n    'SYS_DBURIGEN',\n    'SYS_XMLAGG',\n    'SYS_XMLGEN',\n    'UPDATEXML',\n    'XMLAGG',\n    'XMLCDATA',\n    'XMLCOLATTVAL',\n    'XMLCOMMENT',\n    'XMLCONCAT',\n    'XMLFOREST',\n    'XMLPARSE',\n    'XMLPI',\n    'XMLQUERY',\n    'XMLROOT',\n    'XMLSEQUENCE',\n    'XMLSERIALIZE',\n    'XMLTABLE',\n    'XMLTRANSFORM',\n  ],\n  encoding: ['DECODE', 'DUMP', 'ORA_HASH', 'VSIZE'],\n  nullRelated: ['COALESCE', 'LNNVL', 'NULLIF', 'NVL', 'NVL2'],\n  env: ['SYS_CONTEXT', 'SYS_GUID', 'SYS_TYPEID', 'UID', 'USER', 'USERENV'],\n  aggregate: [\n    'AVG',\n    'COLLECT',\n    'CORR',\n    'CORR_S',\n    'CORR_K',\n    'COUNT',\n    'COVAR_POP',\n    'COVAR_SAMP',\n    'CUME_DIST',\n    'DENSE_RANK',\n    'FIRST',\n    'GROUP_ID',\n    'GROUPING',\n    'GROUPING_ID',\n    'LAST',\n    'MAX',\n    'MEDIAN',\n    'MIN',\n    'PERCENTILE_CONT',\n    'PERCENTILE_DISC',\n    'PERCENT_RANK',\n    'RANK',\n    'REGR_SLOPE',\n    'REGR_INTERCEPT',\n    'REGR_COUNT',\n    'REGR_R2',\n    'REGR_AVGX',\n    'REGR_AVGY',\n    'REGR_SXX',\n    'REGR_SYY',\n    'REGR_SXY',\n    'STATS_BINOMIAL_TEST',\n    'STATS_CROSSTAB',\n    'STATS_F_TEST',\n    'STATS_KS_TEST',\n    'STATS_MODE',\n    'STATS_MW_TEST',\n    'STATS_ONE_WAY_ANOVA',\n    'STATS_T_TEST_ONE',\n    'STATS_T_TEST_PAIRED',\n    'STATS_T_TEST_INDEP',\n    'STATS_T_TEST_INDEPU',\n    'STATS_WSR_TEST',\n    'STDDEV',\n    'STDDEV_POP',\n    'STDDEV_SAMP',\n    'SUM',\n    'VAR_POP',\n    'VAR_SAMP',\n    'VARIANCE',\n  ],\n  // Windowing functions (minus the ones already listed in aggregates)\n  window: ['FIRST_VALUE', 'LAG', 'LAST_VALUE', 'LEAD', 'NTILE', 'RATIO_TO_REPORT', 'ROW_NUMBER'],\n  objectReference: ['DEREF', 'MAKE_REF', 'REF', 'REFTOHEX', 'VALUE'],\n  model: ['CV', 'ITERATION_NUMBER', 'PRESENTNNV', 'PRESENTV', 'PREVIOUS'],\n};\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\nconst reservedKeywords = [\n  // 'A',\n  'ACCESSIBLE',\n  'AGENT',\n  'AGGREGATE',\n  'ALL',\n  'ALTER',\n  'ANY',\n  'ARRAY',\n  'AS',\n  'ASC',\n  'AT',\n  'ATTRIBUTE',\n  'AUTHID',\n  'AVG',\n  'BETWEEN',\n  'BFILE_BASE',\n  'BINARY',\n  'BINARY_INTEGER',\n  'BLOB_BASE',\n  'BLOCK',\n  'BODY',\n  'BOOLEAN',\n  'BOTH',\n  'BOUND',\n  'BREADTH',\n  'BULK',\n  'BY',\n  'BYTE',\n  // 'C',\n  'CALL',\n  'CALLING',\n  'CASCADE',\n  'CAST',\n  'CHAR',\n  'CHARACTER',\n  'CHARSET',\n  'CHARSETFORM',\n  'CHARSETID',\n  'CHAR_BASE',\n  'CHECK',\n  'CLOB_BASE',\n  'CLONE',\n  'CLOSE',\n  'CLUSTER',\n  'CLUSTERS',\n  'COALESCE',\n  'COLAUTH',\n  'COLLECT',\n  'COLUMNS',\n  'COMMENT',\n  'COMMIT',\n  'COMMITTED',\n  'COMPILED',\n  'COMPRESS',\n  'CONNECT',\n  'CONSTANT',\n  'CONSTRUCTOR',\n  'CONTEXT',\n  'CONTINUE',\n  'CONVERT',\n  'COUNT',\n  'CRASH',\n  'CREATE',\n  'CREDENTIAL',\n  'CURRENT',\n  'CURRVAL',\n  'CURSOR',\n  'CUSTOMDATUM',\n  'DANGLING',\n  'DATA',\n  'DATE',\n  'DATE_BASE',\n  'DAY',\n  'DECIMAL',\n  'DEFAULT',\n  'DEFINE',\n  'DEPTH',\n  'DESC',\n  'DETERMINISTIC',\n  'DIRECTORY',\n  'DISTINCT',\n  'DO',\n  'DOUBLE',\n  'DROP',\n  'DURATION',\n  'ELEMENT',\n  'ELSIF',\n  'EMPTY',\n  'ESCAPE',\n  'EXCEPTIONS',\n  'EXCLUSIVE',\n  'EXECUTE',\n  'EXISTS',\n  'EXIT',\n  'EXTENDS',\n  'EXTERNAL',\n  'EXTRACT',\n  'FALSE',\n  'FETCH',\n  'FINAL',\n  'FIRST',\n  'FIXED',\n  'FLOAT',\n  'FOR',\n  'FORALL',\n  'FORCE',\n  'FUNCTION',\n  'GENERAL',\n  'GOTO',\n  'GRANT',\n  'GROUP',\n  'HASH',\n  'HEAP',\n  'HIDDEN',\n  'HOUR',\n  'IDENTIFIED',\n  'IF',\n  'IMMEDIATE',\n  'IN',\n  'INCLUDING',\n  'INDEX',\n  'INDEXES',\n  'INDICATOR',\n  'INDICES',\n  'INFINITE',\n  'INSTANTIABLE',\n  'INT',\n  'INTEGER',\n  'INTERFACE',\n  'INTERVAL',\n  'INTO',\n  'INVALIDATE',\n  'IS',\n  'ISOLATION',\n  'JAVA',\n  'LANGUAGE',\n  'LARGE',\n  'LEADING',\n  'LENGTH',\n  'LEVEL',\n  'LIBRARY',\n  'LIKE',\n  'LIKE2',\n  'LIKE4',\n  'LIKEC',\n  'LIMITED',\n  'LOCAL',\n  'LOCK',\n  'LONG',\n  'MAP',\n  'MAX',\n  'MAXLEN',\n  'MEMBER',\n  'MERGE',\n  'MIN',\n  'MINUTE',\n  'MLSLABEL',\n  'MOD',\n  'MODE',\n  'MONTH',\n  'MULTISET',\n  'NAME',\n  'NAN',\n  'NATIONAL',\n  'NATIVE',\n  'NATURAL',\n  'NATURALN',\n  'NCHAR',\n  'NEW',\n  'NEXTVAL',\n  'NOCOMPRESS',\n  'NOCOPY',\n  'NOT',\n  'NOWAIT',\n  'NULL',\n  'NULLIF',\n  'NUMBER',\n  'NUMBER_BASE',\n  'OBJECT',\n  'OCICOLL',\n  'OCIDATE',\n  'OCIDATETIME',\n  'OCIDURATION',\n  'OCIINTERVAL',\n  'OCILOBLOCATOR',\n  'OCINUMBER',\n  'OCIRAW',\n  'OCIREF',\n  'OCIREFCURSOR',\n  'OCIROWID',\n  'OCISTRING',\n  'OCITYPE',\n  'OF',\n  'OLD',\n  'ON DELETE',\n  'ON UPDATE',\n  'ONLY',\n  'OPAQUE',\n  'OPEN',\n  'OPERATOR',\n  'OPTION',\n  'ORACLE',\n  'ORADATA',\n  'ORDER',\n  'ORGANIZATION',\n  'ORLANY',\n  'ORLVARY',\n  'OTHERS',\n  'OUT',\n  'OVERLAPS',\n  'OVERRIDING',\n  'PACKAGE',\n  'PARALLEL_ENABLE',\n  'PARAMETER',\n  'PARAMETERS',\n  'PARENT',\n  'PARTITION',\n  'PASCAL',\n  'PCTFREE',\n  'PIPE',\n  'PIPELINED',\n  'PLS_INTEGER',\n  'PLUGGABLE',\n  'POSITIVE',\n  'POSITIVEN',\n  'PRAGMA',\n  'PRECISION',\n  'PRIOR',\n  'PRIVATE',\n  'PROCEDURE',\n  'PUBLIC',\n  'RAISE',\n  'RANGE',\n  'RAW',\n  'READ',\n  'REAL',\n  'RECORD',\n  'REF',\n  'REFERENCE',\n  'RELEASE',\n  'RELIES_ON',\n  'REM',\n  'REMAINDER',\n  'RENAME',\n  'RESOURCE',\n  'RESULT',\n  'RESULT_CACHE',\n  'RETURN',\n  'REVERSE',\n  'REVOKE',\n  'ROLLBACK',\n  'ROW',\n  'ROWID',\n  'ROWNUM',\n  'ROWTYPE',\n  'SAMPLE',\n  'SAVE',\n  'SAVEPOINT',\n  'SB1',\n  'SB2',\n  'SB4',\n  'SEARCH',\n  'SECOND',\n  'SEGMENT',\n  'SELF',\n  'SEPARATE',\n  'SEQUENCE',\n  'SERIALIZABLE',\n  'SHARE',\n  'SHORT',\n  'SIZE',\n  'SIZE_T',\n  'SMALLINT',\n  'SOME',\n  'SPACE',\n  'SPARSE',\n  'SQL',\n  'SQLCODE',\n  'SQLDATA',\n  'SQLERRM',\n  'SQLNAME',\n  'SQLSTATE',\n  'STANDARD',\n  'START',\n  'STATIC',\n  'STDDEV',\n  'STORED',\n  'STRING',\n  'STRUCT',\n  'STYLE',\n  'SUBMULTISET',\n  'SUBPARTITION',\n  'SUBSTITUTABLE',\n  'SUBTYPE',\n  'SUCCESSFUL',\n  'SUM',\n  'SYNONYM',\n  'SYSDATE',\n  'TABAUTH',\n  'TABLE',\n  'TDO',\n  'THE',\n  'THEN',\n  'TIME',\n  'TIMESTAMP',\n  'TIMEZONE_ABBR',\n  'TIMEZONE_HOUR',\n  'TIMEZONE_MINUTE',\n  'TIMEZONE_REGION',\n  'TO',\n  'TRAILING',\n  'TRANSACTION',\n  'TRANSACTIONAL',\n  'TRIGGER',\n  'TRUE',\n  'TRUSTED',\n  'TYPE',\n  'UB1',\n  'UB2',\n  'UB4',\n  'UID',\n  'UNDER',\n  'UNIQUE',\n  'UNPLUG',\n  'UNSIGNED',\n  'UNTRUSTED',\n  'USE',\n  'USER',\n  'VALIDATE',\n  'VALIST',\n  'VALUE',\n  'VARCHAR',\n  'VARCHAR2',\n  'VARIABLE',\n  'VARIANCE',\n  'VARRAY',\n  'VARYING',\n  'VIEW',\n  'VIEWS',\n  'VOID',\n  'WHENEVER',\n  'WHILE',\n  'WORK',\n  'WRAPPED',\n  'WRITE',\n  'YEAR',\n  'ZONE',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\nconst reservedCommands = [\n  'ADD',\n  'ALTER COLUMN',\n  'ALTER TABLE',\n  'BEGIN',\n  'CONNECT BY',\n  'CREATE TABLE', // verify\n  'DROP TABLE', // verify\n  'DECLARE',\n  'DELETE',\n  'DELETE FROM',\n  'EXCEPT',\n  'EXCEPTION',\n  'FETCH FIRST',\n  'FROM',\n  'GROUP BY',\n  'HAVING',\n  'INSERT INTO',\n  'INSERT',\n  'LIMIT',\n  'OFFSET',\n  'LOOP',\n  'MODIFY',\n  'ORDER BY',\n  'RETURNING',\n  'SELECT',\n  'SET CURRENT SCHEMA',\n  'SET SCHEMA',\n  'SET',\n  'START WITH',\n  'UPDATE',\n  'VALUES',\n  'WHERE',\n  'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n  // set booleans\n  'INTERSECT',\n  'INTERSECT ALL',\n  'INTERSECT DISTINCT',\n  'UNION',\n  'UNION ALL',\n  'UNION DISTINCT',\n  'EXCEPT',\n  'EXCEPT ALL',\n  'EXCEPT DISTINCT',\n  'MINUS',\n  'MINUS ALL',\n  'MINUS DISTINCT',\n  // joins\n  'JOIN',\n  'INNER JOIN',\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'RIGHT JOIN',\n  'RIGHT OUTER JOIN',\n  'FULL JOIN',\n  'FULL OUTER JOIN',\n  'CROSS JOIN',\n  'NATURAL JOIN',\n  // apply\n  'CROSS APPLY',\n  'OUTER APPLY',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['WHEN', 'ELSE'];\n\nexport default class PlSqlFormatter extends Formatter {\n  static operators = [\n    '||',\n    '**',\n    ':=',\n    '~=',\n    '^=',\n    '>>',\n    '<<',\n    '=>',\n    //  '..' // breaks operator test, handled by .\n  ];\n\n  tokenizer() {\n    return new Tokenizer({\n      reservedCommands,\n      reservedBinaryCommands,\n      reservedDependentClauses,\n      reservedLogicalOperators: ['AND', 'OR', 'XOR'],\n      reservedKeywords: dedupe([...reservedKeywords, ...Object.values(reservedFunctions).flat()]),\n      // TODO: support custom-delimited strings: Q'{..}' q'<..>' etc\n      stringTypes: [{ quote: \"''\", prefixes: ['N'] }],\n      identTypes: [`\"\"`],\n      identChars: { rest: '$#' },\n      variableTypes: [{ regex: '&{1,2}[A-Za-z][A-Za-z0-9_$#]*' }],\n      numberedParamTypes: [':'],\n      namedParamTypes: [':'],\n      paramChars: {}, // Empty object used on purpose to not allow $ and # chars as specified in identChars\n      operators: PlSqlFormatter.operators,\n      preprocess,\n    });\n  }\n}\n\nfunction preprocess(tokens: Token[]) {\n  let previousReservedToken: Token = EOF_TOKEN;\n\n  return tokens.map(token => {\n    // BY [SET]\n    if (isToken.SET(token) && isToken.BY(previousReservedToken)) {\n      return { ...token, type: TokenType.RESERVED_KEYWORD };\n    }\n\n    if (isReserved(token)) {\n      previousReservedToken = token;\n    }\n\n    return token;\n  });\n}\n"],"file":"plsql.formatter.js"}