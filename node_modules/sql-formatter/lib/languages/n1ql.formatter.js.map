{"version":3,"sources":["../../src/languages/n1ql.formatter.ts"],"names":["reservedFunctions","reservedKeywords","reservedCommands","reservedBinaryCommands","reservedDependentClauses","N1qlFormatter","Tokenizer","reservedLogicalOperators","stringTypes","identTypes","blockStart","blockEnd","positionalParams","numberedParamTypes","namedParamTypes","lineCommentTypes","operators","Formatter"],"mappings":"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","sourcesContent":["import Formatter from 'src/core/Formatter';\nimport Tokenizer from 'src/core/Tokenizer';\nimport { dedupe } from 'src/utils';\n\n// TODO: split this into object with function categories\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/functions.html\nconst reservedFunctions = [\n  'ABORT',\n  'ABS',\n  'ACOS',\n  'ADVISOR',\n  'ARRAY_AGG',\n  'ARRAY_AGG',\n  'ARRAY_APPEND',\n  'ARRAY_AVG',\n  'ARRAY_BINARY_SEARCH',\n  'ARRAY_CONCAT',\n  'ARRAY_CONTAINS',\n  'ARRAY_COUNT',\n  'ARRAY_DISTINCT',\n  'ARRAY_EXCEPT',\n  'ARRAY_FLATTEN',\n  'ARRAY_IFNULL',\n  'ARRAY_INSERT',\n  'ARRAY_INTERSECT',\n  'ARRAY_LENGTH',\n  'ARRAY_MAX',\n  'ARRAY_MIN',\n  'ARRAY_MOVE',\n  'ARRAY_POSITION',\n  'ARRAY_PREPEND',\n  'ARRAY_PUT',\n  'ARRAY_RANGE',\n  'ARRAY_REMOVE',\n  'ARRAY_REPEAT',\n  'ARRAY_REPLACE',\n  'ARRAY_REVERSE',\n  'ARRAY_SORT',\n  'ARRAY_STAR',\n  'ARRAY_SUM',\n  'ARRAY_SYMDIFF',\n  'ARRAY_SYMDIFF1',\n  'ARRAY_SYMDIFFN',\n  'ARRAY_UNION',\n  'ASIN',\n  'ATAN',\n  'ATAN2',\n  'AVG',\n  'BASE64',\n  'BASE64_DECODE',\n  'BASE64_ENCODE',\n  'BITAND ',\n  'BITCLEAR ',\n  'BITNOT ',\n  'BITOR ',\n  'BITSET ',\n  'BITSHIFT ',\n  'BITTEST ',\n  'BITXOR ',\n  'CEIL',\n  'CLOCK_LOCAL',\n  'CLOCK_MILLIS',\n  'CLOCK_STR',\n  'CLOCK_TZ',\n  'CLOCK_UTC',\n  'COALESCE',\n  'CONCAT',\n  'CONCAT2',\n  'CONTAINS',\n  'CONTAINS_TOKEN',\n  'CONTAINS_TOKEN_LIKE',\n  'CONTAINS_TOKEN_REGEXP',\n  'COS',\n  'COUNT',\n  'COUNT',\n  'COUNTN',\n  'CUME_DIST',\n  'CURL',\n  'DATE_ADD_MILLIS',\n  'DATE_ADD_STR',\n  'DATE_DIFF_MILLIS',\n  'DATE_DIFF_STR',\n  'DATE_FORMAT_STR',\n  'DATE_PART_MILLIS',\n  'DATE_PART_STR',\n  'DATE_RANGE_MILLIS',\n  'DATE_RANGE_STR',\n  'DATE_TRUNC_MILLIS',\n  'DATE_TRUNC_STR',\n  'DECODE',\n  'DECODE_JSON',\n  'DEGREES',\n  'DENSE_RANK',\n  'DURATION_TO_STR',\n  // 'E',\n  'ENCODED_SIZE',\n  'ENCODE_JSON',\n  'EXP',\n  'FIRST_VALUE',\n  'FLOOR',\n  'GREATEST',\n  'HAS_TOKEN',\n  'IFINF',\n  'IFMISSING',\n  'IFMISSINGORNULL',\n  'IFNAN',\n  'IFNANORINF',\n  'IFNULL',\n  'INITCAP',\n  'ISARRAY',\n  'ISATOM',\n  'ISBITSET',\n  'ISBOOLEAN',\n  'ISNUMBER',\n  'ISOBJECT',\n  'ISSTRING',\n  'LAG',\n  'LAST_VALUE',\n  'LEAD',\n  'LEAST',\n  'LENGTH',\n  'LN',\n  'LOG',\n  'LOWER',\n  'LTRIM',\n  'MAX',\n  'MEAN',\n  'MEDIAN',\n  'META',\n  'MILLIS',\n  'MILLIS_TO_LOCAL',\n  'MILLIS_TO_STR',\n  'MILLIS_TO_TZ',\n  'MILLIS_TO_UTC',\n  'MILLIS_TO_ZONE_NAME',\n  'MIN',\n  'MISSINGIF',\n  'NANIF',\n  'NEGINFIF',\n  'NOW_LOCAL',\n  'NOW_MILLIS',\n  'NOW_STR',\n  'NOW_TZ',\n  'NOW_UTC',\n  'NTH_VALUE',\n  'NTILE',\n  'NULLIF',\n  'NVL',\n  'NVL2',\n  'OBJECT_ADD',\n  'OBJECT_CONCAT',\n  'OBJECT_INNER_PAIRS',\n  'OBJECT_INNER_VALUES',\n  'OBJECT_LENGTH',\n  'OBJECT_NAMES',\n  'OBJECT_PAIRS',\n  'OBJECT_PUT',\n  'OBJECT_REMOVE',\n  'OBJECT_RENAME',\n  'OBJECT_REPLACE',\n  'OBJECT_UNWRAP',\n  'OBJECT_VALUES',\n  'PAIRS',\n  'PERCENT_RANK',\n  'PI',\n  'POLY_LENGTH',\n  'POSINFIF',\n  'POSITION',\n  'POWER',\n  'RADIANS',\n  'RANDOM',\n  'RANK',\n  'RATIO_TO_REPORT',\n  'REGEXP_CONTAINS',\n  'REGEXP_LIKE',\n  'REGEXP_MATCHES',\n  'REGEXP_POSITION',\n  'REGEXP_REPLACE',\n  'REGEXP_SPLIT',\n  'REGEX_CONTAINS',\n  'REGEX_LIKE',\n  'REGEX_MATCHES',\n  'REGEX_POSITION',\n  'REGEX_REPLACE',\n  'REGEX_SPLIT',\n  'REPEAT',\n  'REPLACE',\n  'REVERSE',\n  'ROUND',\n  'ROW_NUMBER',\n  'RTRIM',\n  'SEARCH',\n  'SEARCH_META',\n  'SEARCH_SCORE',\n  'SIGN',\n  'SIN',\n  'SPLIT',\n  'SQRT',\n  'STDDEV',\n  'STDDEV_POP',\n  'STDDEV_SAMP',\n  'STR_TO_DURATION',\n  'STR_TO_MILLIS',\n  'STR_TO_TZ',\n  'STR_TO_UTC',\n  'STR_TO_ZONE_NAME',\n  'SUBSTR',\n  'SUFFIXES',\n  'SUM',\n  'TAN',\n  'TITLE',\n  'TOARRAY',\n  'TOATOM',\n  'TOBOOLEAN',\n  'TOKENS',\n  'TOKENS',\n  'TONUMBER',\n  'TOOBJECT',\n  'TOSTRING',\n  'TRIM',\n  'TRUNC',\n  // 'TYPE', // disabled\n  'UPPER',\n  'UUID',\n  'VARIANCE',\n  'VARIANCE_POP',\n  'VARIANCE_SAMP',\n  'VAR_POP',\n  'VAR_SAMP',\n  'WEEKDAY_MILLIS',\n  'WEEKDAY_STR',\n];\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/reservedwords.html\nconst reservedKeywords = [\n  'ALL',\n  'ALTER',\n  'ANALYZE',\n  'ANY',\n  'ARRAY',\n  'AS',\n  'ASC',\n  'AT',\n  'BEGIN',\n  'BETWEEN',\n  'BINARY',\n  'BOOLEAN',\n  'BREAK',\n  'BUCKET',\n  'BUILD',\n  'BY',\n  'CALL',\n  'CAST',\n  'CHAR', // verify\n  'CLUSTER',\n  'COLLATE',\n  'COLLECTION',\n  'COMMIT',\n  'COMMITTED',\n  'CONNECT',\n  'CONTINUE',\n  'CORRELATE',\n  'CORRELATED',\n  'COVER',\n  'CREATE',\n  'CURRENT',\n  'DATABASE',\n  'DATASET',\n  'DATASTORE',\n  'DECLARE',\n  'DECREMENT',\n  'DERIVED',\n  'DESC',\n  'DESCRIBE',\n  'DISTINCT',\n  'DO',\n  'DROP',\n  'EACH',\n  'ELEMENT',\n  'EVERY',\n  'EXCLUDE',\n  'EXISTS',\n  'FALSE',\n  'FETCH',\n  'FILTER',\n  'FIRST',\n  'FLATTEN',\n  'FLUSH',\n  'FOLLOWING',\n  'FOR',\n  'FORCE',\n  'FTS',\n  'FUNCTION',\n  'GOLANG',\n  'GROUP',\n  'GROUPS',\n  'GSI',\n  'HASH',\n  'IF',\n  'IGNORE',\n  'ILIKE',\n  'IN',\n  'INCLUDE',\n  'INCREMENT',\n  'INDEX',\n  'INLINE',\n  'INNER',\n  'INTO',\n  'IS',\n  'ISOLATION',\n  'JAVASCRIPT',\n  'KEY',\n  'KEYS',\n  'KEYSPACE',\n  'KNOWN',\n  'LANGUAGE',\n  'LAST',\n  'LEFT',\n  'LETTING',\n  'LEVEL',\n  'LIKE',\n  'LSM',\n  'MAP',\n  'MAPPING',\n  'MATCHED',\n  'MATERIALIZED',\n  'MISSING',\n  'NAMESPACE',\n  'NL',\n  'NO',\n  'NOT',\n  'NULL',\n  'NULLS',\n  'NUMBER',\n  'OBJECT',\n  'OFFSET',\n  'OPTION',\n  'OPTIONS',\n  'ORDER',\n  'OTHERS',\n  'OUTER',\n  'OVER',\n  'PARSE',\n  'PARTITION',\n  'PASSWORD',\n  'PATH',\n  'POOL',\n  'PRECEDING',\n  'PRIMARY',\n  'PRIVATE',\n  'PRIVILEGE',\n  'PROBE',\n  'PROCEDURE',\n  'PUBLIC',\n  'RANGE',\n  'RAW',\n  'REALM',\n  'REDUCE',\n  'RENAME',\n  'RESPECT',\n  'RETURN',\n  'RIGHT',\n  'ROLE',\n  'ROLLBACK',\n  'ROW',\n  'ROWS',\n  'SATISFIES',\n  'SCHEMA',\n  'SCOPE',\n  'SELF',\n  'SEMI',\n  'SOME',\n  'START',\n  'STATISTICS',\n  'STRING',\n  'SYSTEM',\n  'THEN',\n  'TIES',\n  'TO',\n  'TRAN',\n  'TRANSACTION',\n  'TRIGGER',\n  'TRUE',\n  'TRUNCATE',\n  'UNBOUNDED',\n  'UNDER',\n  'UNIQUE',\n  'UNKNOWN',\n  'UNSET',\n  'USE',\n  'USER',\n  'VALIDATE',\n  'VALUE',\n  'VALUED',\n  'VIA',\n  'VIEW',\n  'WHILE',\n  'WINDOW',\n  'WITHIN',\n  'WORK',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/reservedwords.html\nconst reservedCommands = [\n  'ADVISE',\n  'ALTER INDEX',\n  'BEGIN TRANSACTION',\n  'BUILD INDEX',\n  'COMMIT TRANSACTION',\n  'CREATE COLLECTION',\n  'CREATE FUNCTION',\n  'CREATE INDEX',\n  'CREATE PRIMARY INDEX',\n  'CREATE SCOPE',\n  'CREATE TABLE', // verify\n  'DELETE',\n  'DELETE FROM',\n  'DROP COLLECTION',\n  'DROP FUNCTION',\n  'DROP INDEX',\n  'DROP PRIMARY INDEX',\n  'DROP SCOPE',\n  'EXECUTE',\n  'EXECUTE FUNCTION',\n  'EXPLAIN',\n  'GRANT',\n  'INFER',\n  'INSERT',\n  'MERGE',\n  'PREPARE',\n  'RETURNING',\n  'REVOKE',\n  'ROLLBACK TRANSACTION',\n  'SAVEPOINT',\n  'SELECT',\n  'SET TRANSACTION',\n  'UPDATE',\n  'UPDATE STATISTICS',\n  'UPSERT',\n  // other\n  'DROP TABLE', // verify,\n  'FROM',\n  'GROUP BY',\n  'HAVING',\n  'INSERT INTO',\n  'LET',\n  'LIMIT',\n  'OFFSET',\n  'NEST',\n  'ORDER BY',\n  'SET CURRENT SCHEMA',\n  'SET SCHEMA',\n  'SET',\n  'SHOW',\n  'UNNEST',\n  'USE KEYS',\n  'VALUES',\n  'WHERE',\n  'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n  // set booleans\n  'INTERSECT',\n  'INTERSECT ALL',\n  'INTERSECT DISTINCT',\n  'UNION',\n  'UNION ALL',\n  'UNION DISTINCT',\n  'EXCEPT',\n  'EXCEPT ALL',\n  'EXCEPT DISTINCT',\n  'MINUS',\n  'MINUS ALL',\n  'MINUS DISTINCT',\n  // joins\n  'JOIN',\n  'INNER JOIN',\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'RIGHT JOIN',\n  'RIGHT OUTER JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['WHEN', 'ELSE'];\n\n// For reference: http://docs.couchbase.com.s3-website-us-west-1.amazonaws.com/server/6.0/n1ql/n1ql-language-reference/index.html\nexport default class N1qlFormatter extends Formatter {\n  static operators = ['=='];\n\n  tokenizer() {\n    return new Tokenizer({\n      reservedCommands,\n      reservedBinaryCommands,\n      reservedDependentClauses,\n      reservedLogicalOperators: ['AND', 'OR', 'XOR'],\n      reservedKeywords: dedupe([...reservedKeywords, ...reservedFunctions]),\n      // NOTE: single quotes are actually not supported in N1QL,\n      // but we support them anyway as all other SQL dialects do,\n      // which simplifies writing tests that are shared between all dialects.\n      stringTypes: [`\"\"`, \"''\"],\n      identTypes: ['``'],\n      blockStart: ['(', '[', '{'],\n      blockEnd: [')', ']', '}'],\n      positionalParams: true,\n      numberedParamTypes: ['$'],\n      namedParamTypes: ['$'],\n      lineCommentTypes: ['#', '--'],\n      operators: N1qlFormatter.operators,\n    });\n  }\n}\n"],"file":"n1ql.formatter.js"}