{"version":3,"sources":["../../src/languages/sqlite.formatter.ts"],"names":["reservedFunctions","scalar","aggregate","datetime","reservedKeywords","reservedCommands","reservedBinaryCommands","reservedDependentClauses","SqliteFormatter","Tokenizer","Object","values","flat","stringTypes","quote","prefixes","identTypes","positionalParams","numberedParamTypes","namedParamTypes","operators","Formatter"],"mappings":"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","sourcesContent":["import Formatter from 'src/core/Formatter';\nimport Tokenizer from 'src/core/Tokenizer';\nimport { dedupe } from 'src/utils';\n\nconst reservedFunctions = {\n  // https://www.sqlite.org/lang_corefunc.html\n  scalar: [\n    'ABS',\n    'CHANGES',\n    'CHAR',\n    'COALESCE',\n    'FORMAT',\n    'GLOB',\n    'HEX',\n    'IFNULL',\n    'IIF',\n    'INSTR',\n    'LAST_INSERT_ROWID',\n    'LENGTH',\n    'LIKE',\n    'LIKELIHOOD',\n    'LIKELY',\n    'LOAD_EXTENSION',\n    'LOWER',\n    'LTRIM',\n    'NULLIF',\n    'PRINTF',\n    'QUOTE',\n    'RANDOM',\n    'RANDOMBLOB',\n    'REPLACE',\n    'ROUND',\n    'RTRIM',\n    'SIGN',\n    'SOUNDEX',\n    'SQLITE_COMPILEOPTION_GET',\n    'SQLITE_COMPILEOPTION_USED',\n    'SQLITE_OFFSET',\n    'SQLITE_SOURCE_ID',\n    'SQLITE_VERSION',\n    'SUBSTR',\n    'SUBSTRING',\n    'TOTAL_CHANGES',\n    'TRIM',\n    'TYPEOF',\n    'UNICODE',\n    'UNLIKELY',\n    'UPPER',\n    'ZEROBLOB',\n  ],\n  // https://www.sqlite.org/lang_aggfunc.html\n  aggregate: ['AVG', 'COUNT', 'GROUP_CONCAT', 'MAX', 'MIN', 'SUM', 'TOTAL'],\n  // https://www.sqlite.org/lang_datefunc.html\n  datetime: ['DATE', 'TIME', 'DATETIME', 'JULIANDAY', 'UNIXEPOCH', 'STRFTIME'],\n};\n\n// https://www.sqlite.org/lang_keywords.html\nconst reservedKeywords = [\n  'ABORT',\n  'ACTION',\n  'ADD',\n  'AFTER',\n  'ALL',\n  'ALTER',\n  'ALWAYS',\n  'ANALYZE',\n  'AND',\n  'AS',\n  'ASC',\n  'ATTACH',\n  'AUTOINCREMENT',\n  'BEFORE',\n  'BEGIN',\n  'BETWEEN',\n  'BY',\n  'CASCADE',\n  'CASE',\n  'CAST',\n  'CHECK',\n  'COLLATE',\n  'COLUMN',\n  'COMMIT',\n  'CONFLICT',\n  'CONSTRAINT',\n  'CREATE',\n  'CROSS',\n  'CURRENT',\n  'CURRENT_DATE',\n  'CURRENT_TIME',\n  'CURRENT_TIMESTAMP',\n  'DATABASE',\n  'DEFAULT',\n  'DEFERRABLE',\n  'DEFERRED',\n  'DELETE',\n  'DESC',\n  'DETACH',\n  'DISTINCT',\n  'DO',\n  'DROP',\n  'EACH',\n  'ELSE',\n  'END',\n  'ESCAPE',\n  'EXCEPT',\n  'EXCLUDE',\n  'EXCLUSIVE',\n  'EXISTS',\n  'EXPLAIN',\n  'FAIL',\n  'FILTER',\n  'FIRST',\n  'FOLLOWING',\n  'FOR',\n  'FOREIGN',\n  'FROM',\n  'FULL',\n  'GENERATED',\n  'GLOB',\n  'GROUP',\n  'GROUPS',\n  'HAVING',\n  'IF',\n  'IGNORE',\n  'IMMEDIATE',\n  'IN',\n  'INDEX',\n  'INDEXED',\n  'INITIALLY',\n  'INNER',\n  'INSERT',\n  'INSTEAD',\n  'INTERSECT',\n  'INTO',\n  'IS',\n  'ISNULL',\n  'JOIN',\n  'KEY',\n  'LAST',\n  'LEFT',\n  'LIKE',\n  'LIMIT',\n  'MATCH',\n  'MATERIALIZED',\n  'NATURAL',\n  'NO',\n  'NOT',\n  'NOTHING',\n  'NOTNULL',\n  'NULL',\n  'NULLS',\n  'OF',\n  'OFFSET',\n  'ON UPDATE',\n  'ON DELETE',\n  'OR',\n  'ORDER',\n  'OTHERS',\n  'OUTER',\n  'OVER',\n  'PARTITION',\n  'PLAN',\n  'PRAGMA',\n  'PRECEDING',\n  'PRIMARY',\n  'QUERY',\n  'RAISE',\n  'RANGE',\n  'RECURSIVE',\n  'REFERENCES',\n  'REGEXP',\n  'REINDEX',\n  'RELEASE',\n  'RENAME',\n  'REPLACE',\n  'RESTRICT',\n  'RETURNING',\n  'RIGHT',\n  'ROLLBACK',\n  'ROW',\n  'ROWS',\n  'SAVEPOINT',\n  'SELECT',\n  'SET',\n  'TABLE',\n  'TEMP',\n  'TEMPORARY',\n  'THEN',\n  'TIES',\n  'TO',\n  'TRANSACTION',\n  'TRIGGER',\n  'UNBOUNDED',\n  'UNION',\n  'UNIQUE',\n  'UPDATE',\n  'USING',\n  'VACUUM',\n  'VALUES',\n  'VIEW',\n  'VIRTUAL',\n  'WHEN',\n  'WHERE',\n  'WINDOW',\n  'WITH',\n  'WITHOUT',\n];\n\nconst reservedCommands = [\n  'ADD',\n  'ALTER COLUMN',\n  'ALTER TABLE',\n  'CREATE TABLE',\n  'DROP TABLE',\n  'DELETE',\n  'DELETE FROM',\n  'FETCH FIRST',\n  'FETCH NEXT',\n  'FETCH PRIOR',\n  'FETCH LAST',\n  'FETCH ABSOLUTE',\n  'FETCH RELATIVE',\n  'FROM',\n  'GROUP BY',\n  'HAVING',\n  'INSERT INTO',\n  'LIMIT',\n  'OFFSET',\n  'ORDER BY',\n  'SELECT',\n  'SET SCHEMA',\n  'SET',\n  'UPDATE',\n  'VALUES',\n  'WHERE',\n  'WITH',\n];\n\nconst reservedBinaryCommands = [\n  // set booleans\n  'INTERSECT',\n  'INTERSECT ALL',\n  'INTERSECT DISTINCT',\n  'UNION',\n  'UNION ALL',\n  'UNION DISTINCT',\n  'EXCEPT',\n  'EXCEPT ALL',\n  'EXCEPT DISTINCT',\n  // joins - https://www.sqlite.org/syntax/join-operator.html\n  'JOIN',\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'INNER JOIN',\n  'CROSS JOIN',\n  'NATURAL JOIN',\n  'NATURAL LEFT JOIN',\n  'NATURAL LEFT OUTER JOIN',\n  'NATURAL INNER JOIN',\n  'NATURAL CROSS JOIN',\n];\n\nconst reservedDependentClauses = ['WHEN', 'ELSE'];\n\nexport default class SqliteFormatter extends Formatter {\n  // https://www.sqlite.org/lang_expr.html\n  static operators = ['||', '<<', '>>', '==', '!='];\n\n  tokenizer() {\n    return new Tokenizer({\n      reservedCommands,\n      reservedBinaryCommands,\n      reservedDependentClauses,\n      reservedKeywords: dedupe([...reservedKeywords, ...Object.values(reservedFunctions).flat()]),\n      stringTypes: [{ quote: \"''\", prefixes: ['X'] }],\n      identTypes: [`\"\"`, '``', '[]'],\n      // https://www.sqlite.org/lang_expr.html#parameters\n      positionalParams: true,\n      numberedParamTypes: ['?'],\n      namedParamTypes: [':', '@', '$'],\n      operators: SqliteFormatter.operators,\n    });\n  }\n}\n"],"file":"sqlite.formatter.js"}